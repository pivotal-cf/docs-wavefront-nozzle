---
title: Installing and Configuring Wavefront by VMware Nozzle for Pivotal Platform
owner: Partners
---

This topic describes how to install and configure Wavefront by VMware Nozzle for Pivotal Platform.

##<a id='wf-account'></a> Create a Wavefront Account
The Wavefront by VMware Nozzle for Pivotal Platform requires that you have a Wavefront account with
an API access token. If you need an account, contact <a href="mailto:sales@wavefront.com">Wavefront Sales</a>.

##<a id='uaa-account'></a> Create a UAA User Account

Create a UAA user with access to the Firehose and Cloud Controller:

1. Target your system with the UAA CLI (UAAC):
   ```
   $ uaac target https://uaa.YOUR-SYSTEM-DOMAIN
   ```
1. Run the following command to authenticate and obtain an access token for the admin client from the UAA server.
   ```
   $ uaac token client get admin -s ADMIN-CLIENT-CREDENTIALS-SECRET
   ```
1. Create a Wavefront Nozzle user with the password of your choosing.
   ```
   $ uaac -t user add wavefront-nozzle --password PASSWORD --emails na
   ```
1. Add the user to the Cloud Controller Admin Read-Only group.
   ```
   uaac -t member add cloud_controller.admin_read_only wavefront-nozzle
   ```
1. Add the user to the Doppler Firehose group.
   ```
   $ uaac -t member add doppler.firehose wavefront-nozzle
   ```

For information about creating a UAA user, see
[Creating and Managing Users with the UAA CLI](http://docs.pivotal.io/pivotalcf/adminguide/uaa-user-management.html).

##<a id='install'></a> Install and Configure Wavefront by VMware Nozzle for Pivotal Platform in Ops Manager

1. Download the product file from [Pivotal Network](https://network.pivotal.io/).

1. Navigate to the Ops Manager Installation Dashboard and click **Import a Product** to upload the product file.

1. Under the **Import a Product** button, click **+** next to the version number of Wavefront by VMware Nozzle for Pivotal Platform.
This adds the tile to your staging area.

1. Click the newly added **Wavefront by VMware Nozzle for Pivotal Platform** tile.

1. Click **Wavefront Proxy Config**.
   ![Configure Proxy](images/config_proxy.png)

1. Enter the following in the **Wavefront Proxy Config** pane:
  1. **Wavefront Instance URL**: A URL such as <code>https<span>:</span>//YOUR_INSTANCE.wavefront.com/api</code>
  1. **Wavefront API Token**: API access token from the profile page on your Wavefront instance.
      1. Click the gear icon on the top right in Wavefront
      1. Click your username
      1. Click on the **API Access** tab for the API Token:
      ![API Access Token](images/wf_api_key.png)
  1. **User friendly hostname**: A unique hostname for the proxy such as <code>DOMAIN-pcf-proxy</code>
  1. **CF Quota Name**: A CF org quota with at least 20&nbsp;GB memory and a route and port available.
  1. **Custom Proxy Configuration**: Choose <code>Default</code> for the default proxy settings.
     Optionally, you can override the proxy configuration and preprocessor rules under <code>Custom</code> settings.

1. Click **Save**.

1. Click **Wavefront Firehose Nozzle Config**.
   ![Configure Nozzle](images/config_nozzle.png)

1. Enter the following in the **Wavefront Firehose Nozzle Config** section:
  1. **CF API Hostname**: The Pivotal Platform API Hostname such as `api.YOUR-SYSTEM-DOMAIN`
  1. **CF UAA Username/CF UAA Password**: Enter the username and password you created
  in the <a href="#uaa-account">Create a UAA Admin User</a> step, above.
  1. **Pivotal Platform foundation name**: A user friendly Pivotal Platform foundation name. This is included as a point tag on the metrics sent to Wavefront.
  1. **Skip SSL Verification**: Check to skip SSL validation. This is useful in non-production environments.
  1. **Advanced Nozzle Options**: Choose <code>No</code> for the default nozzle settings.
     Optionally, choose <code>Yes</code> to configure advanced nozzle options such as filters, number of nozzle instances etc.

1. Click **Save**.

1. Return to the Ops Manager Installation Dashboard and click **Apply changes** to install Wavefront by VMware Nozzle for Pivotal Platform tile.

##<a id='marketplace'></a> Configure Service Instance for Wavefront Service Broker for Pivotal Platform
Follow the steps below to enable developers to send app metrics to the Wavefront Proxy:

1. To provision a **wavefront-proxy** service instance: `cf create-service wavefront-proxy standard SERVICE_INSTANCE_NAME`
1. To bind apps to the service instance: `cf bind-service APP_NAME SERVICE_INSTANCE_NAME`
1. For information about how apps can send metrics to the Wavefront Proxy,
   see the [cloud-foundry-sampleapp](https://github.com/wavefrontHQ/cloud-foundry-sampleapp).
